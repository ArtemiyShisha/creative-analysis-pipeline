# Creative Analysis Pipeline - AI Context

–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤ (Claude, GPT, etc.) –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞.

## üéØ –ß—Ç–æ —ç—Ç–æ –∑–∞ –ø—Ä–æ–µ–∫—Ç

**Creative Analysis Pipeline** - —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∫—Ä–µ–∞—Ç–∏–≤–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º:
1. Eye-tracking simulation (DeepGaze IIE)
2. –ö–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–µ –∑—Ä–µ–Ω–∏–µ (OCR, OpenCV)
3. AI –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (GPT-5.2)

**–¶–µ–ª—å:** –î–∞—Ç—å –º–∞—Ä–∫–µ—Ç–æ–ª–æ–≥–∞–º –æ–±—ä–µ–∫—Ç–∏–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ —Ç–æ–º, –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç –∏—Ö –∫—Ä–µ–∞—Ç–∏–≤ –∏ —á—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å.

---

## üìç CURRENT STATUS (2026-02-09)

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç (Production Ready)

**Pipeline –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω:**
- ‚úÖ DeepGaze IIE - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è saliency maps
- ‚úÖ EasyOCR - –¥–µ—Ç–µ–∫—Ü–∏—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –±–ª–æ–∫–æ–≤ —Å —Ç–æ—á–Ω—ã–º–∏ bbox
- ‚úÖ GPT-5.2 Vision + reasoning - –¥–µ—Ç–µ–∫—Ü–∏—è –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (logo, product, person)
- ‚úÖ OpenCV - —É—Ç–æ—á–Ω–µ–Ω–∏–µ CTA bbox (–ø–æ–∏—Å–∫ –∫–Ω–æ–ø–æ–∫)
- ‚úÖ Nested zones handling - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Å—á–µ—Ç attention –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ GPT-5.2 reasoning - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ-–∑–∞–≤–∏—Å–∏–º—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- ‚úÖ Visualization - –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å bbox
- ‚úÖ Web UI (Streamlit) - –∑–∞–≥—Ä—É–∑–∫–∞, –∞–Ω–∞–ª–∏–∑, –ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚úÖ PDF export - —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –æ—Ç—á—ë—Ç–∞ –∏–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

**–§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
- ‚úÖ –ü—Ä–æ–µ–∫—Ç –æ—á–∏—â–µ–Ω –æ—Ç ~50 –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ –û–¥–∏–Ω —Ä–∞–±–æ—á–∏–π —Å–∫—Ä–∏–ø—Ç: `analyze_creative_final.py`
- ‚úÖ Config management: `config.py` (–≤ .gitignore) + `config.example.py`
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ `examples/`
- ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ `data/`

**Web UI (Streamlit):**
- ‚úÖ `app.py` - –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∑–∞–≥—Ä—É–∑–∫–æ–π, –∞–Ω–∞–ª–∏–∑–æ–º –∏ PDF-—ç–∫—Å–ø–æ—Ä—Ç–æ–º
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç: –æ—Ü–µ–Ω–∫—É, —Ç–∞–±–ª–∏—Ü—É –∑–æ–Ω, —Ç–µ–ø–ª–æ–≤—É—é –∫–∞—Ä—Ç—É, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- ‚úÖ –°–∫–∞—á–∏–≤–∞–Ω–∏–µ PDF-–æ—Ç—á—ë—Ç–∞ (–Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞—Ä—Ç–∏–Ω–∫—É —Å –∑–æ–Ω–∞–º–∏)

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- ‚úÖ `README.md` - user documentation (Quick Start, API, –ø—Ä–∏–º–µ—Ä—ã)
- ‚úÖ `CLAUDE.md` - AI context (–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, —Ä–µ—à–µ–Ω–∏—è, roadmap)
- ‚úÖ `requirements.txt` - –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ dependencies
- ‚úÖ `.gitignore` - –∑–∞—â–∏—Ç–∞ API keys –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### üß™ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ

**Test Cases:**
1. ‚úÖ **Yandex Pay** - –±–∞–Ω–Ω–µ—Ä —Å –∫–Ω–æ–ø–∫–æ–π CTA
   - Score: 3.4/5.0
   - 5 –∑–æ–Ω: logo (9.0%), header (47.3%), cta (5.2%), product (19.6%), subheader (11.2%)
   - Coverage: 92.3% (–ø—Ä–∞–≤–∏–ª—å–Ω–æ, –±–µ–∑ overlap)

2. ‚úÖ **Yandex Market** - –±–∞–Ω–Ω–µ—Ä –±–µ–∑ —è–≤–Ω–æ–π CTA
   - Score: 3.4/5.0
   - 3 –∑–æ–Ω—ã: logo (18.5%), header (35.3%), product (20.1%)
   - Coverage: 73.9%
   - Legal text –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω

**Verified Features:**
- ‚úÖ Nested zones (subheader –≤–Ω—É—Ç—Ä–∏ product) –Ω–µ —Å—á–∏—Ç–∞—é—Ç—Å—è –¥–≤–∞–∂–¥—ã
- ‚úÖ CTA refinement —Ä–∞–±–æ—Ç–∞–µ—Ç (–Ω–∞—Ö–æ–¥–∏—Ç –∫–Ω–æ–ø–∫—É, –Ω–µ —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç)
- ‚úÖ Legal text —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ Banner-aware —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (–ø–æ–Ω–∏–º–∞–µ—Ç —á—Ç–æ CTA –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞)
- ‚úÖ API key management (config.py + env variables)

### üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ Issues

**Minor (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ):**
1. **Product detection –Ω–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∞—è**
   - GPT-5.2 –∏–Ω–æ–≥–¥–∞ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç product –µ—Å–ª–∏ –æ–Ω –≤–∏–∑—É–∞–ª—å–Ω–æ —Å–ª–∞–±—ã–π
   - Workaround: —É–ª—É—á—à–∏—Ç—å –ø—Ä–æ–º–ø—Ç –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å fallback

2. **CTA refinement —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ–º–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫**
   - OpenCV –∏—â–µ—Ç —Ç–µ–º–Ω—ã–µ —Ä–µ–≥–∏–æ–Ω—ã –≤–æ–∫—Ä—É–≥ —Ç–µ–∫—Å—Ç–∞
   - –î–ª—è —Å–≤–µ—Ç–ª—ã—Ö –∫–Ω–æ–ø–æ–∫ fallback –ø—Ä–æ—Å—Ç–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç bbox –Ω–∞ +20px

3. **OCR errors –Ω–∞ –º–µ–ª–∫–æ–º/—Å—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–º —Ç–µ–∫—Å—Ç–µ**
   - Confidence < 0.3 —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç—Å—è
   - –ú–æ–∂–µ—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Ç–µ–∫—Å—Ç

4. **–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –º–µ–¥–ª–µ–Ω–Ω—ã–π**
   - DeepGaze –∑–∞–≥—Ä—É–∂–∞–µ—Ç ~500MB –≤–µ—Å–æ–≤
   - EasyOCR –∑–∞–≥—Ä—É–∂–∞–µ—Ç —è–∑—ã–∫–æ–≤—ã–µ –º–æ–¥–µ–ª–∏
   - –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—É—Å–∫–∏ –±—ã—Å—Ç—Ä–µ–µ (–∫—ç—à)

**Performance:**
- ‚è±Ô∏è –ü–µ—Ä–≤—ã–π –∞–Ω–∞–ª–∏–∑: ~2-3 –º–∏–Ω—É—Ç—ã (–∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–µ–π)
- ‚è±Ô∏è –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ: ~30-60 —Å–µ–∫—É–Ω–¥
- üí∞ Cost per image: ~$0.04-0.10 (2x GPT-5.2 calls)

### üß† Neural Networks Used

| –ú–æ–¥–µ–ª—å | –ó–∞–¥–∞—á–∞ | –ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ –æ–Ω–∞ | Cost |
|--------|--------|-------------------|------|
| **DeepGaze IIE** | Saliency prediction | ‚Ä¢ SOTA (96-98% accuracy)<br>‚Ä¢ –û–±—É—á–µ–Ω–∞ –Ω–∞ MIT1003, SALICON<br>‚Ä¢ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (offline) | $0 |
| **EasyOCR** | Text detection | ‚Ä¢ –¢–æ—á–Ω—ã–µ pixel bbox<br>‚Ä¢ 80+ —è–∑—ã–∫–æ–≤<br>‚Ä¢ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (offline) | $0 |
| **GPT-5.2 + reasoning** | Visual elements | ‚Ä¢ reasoning_effort='medium'<br>‚Ä¢ –î–µ—Ç–µ–∫—Ç–∏—Ä—É–µ—Ç logo, product, person<br>‚Ä¢ –ó–∞–º–µ–Ω–∏–ª GPT-4.1 | ~$0.02-0.05 |
| **GPT-5.2 + reasoning** | Recommendations | ‚Ä¢ Extended reasoning<br>‚Ä¢ –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏<br>‚Ä¢ –ù–æ–≤–µ–π—à–∞—è –º–æ–¥–µ–ª—å | ~$0.02-0.05 |

**–ü–æ—á–µ–º—É –Ω–µ –¥—Ä—É–≥–∏–µ:**
- ‚ùå Gemini - –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –≤ —Ä–µ–≥–∏–æ–Ω–µ
- ‚ùå Claude - —Ç–∞ –∂–µ –ø—Ä–æ–±–ª–µ–º–∞
- ‚ùå –¢–æ–ª—å–∫–æ GPT –¥–ª—è —Ç–µ–∫—Å—Ç–∞ - –Ω–µ—Ç–æ—á–Ω—ã–µ bbox, OCR –ª—É—á—à–µ

### üìä –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

**Target Attention Values:**
- CTA: 15-25% (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ)
- Header: 20-35% (–Ω–æ—Ä–º–∞)
- Product: 20-30% (—Ö–æ—Ä–æ—à–æ)
- Logo: 5-10% (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ)
- Background: <20% (–∏–Ω–∞—á–µ –æ—Ç–≤–ª–µ–∫–∞–µ—Ç)

**Overall Score Interpretation:**
- 5.0 = –æ—Ç–ª–∏—á–Ω–æ
- 4.0 = —Ö–æ—Ä–æ—à–æ
- 3.0 = —Å—Ä–µ–¥–Ω–µ, –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã
- 2.0 = –ø–ª–æ—Ö–æ
- 1.0 = –∫—Ä–∏—Ç–∏—á–Ω–æ

### üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–æ)

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ:**
- [x] Web UI (Streamlit) - –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∑–∞–≥—Ä—É–∑–∫–æ–π –∏ –∞–Ω–∞–ª–∏–∑–æ–º ‚úÖ
- [x] PDF export - —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –æ—Ç—á—ë—Ç–∞ –∏–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ ‚úÖ
- [x] –î–µ—Ç–µ–∫—Ü–∏—è person/face –∑–æ–Ω - –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤ –ø—Ä–æ–º–ø—Ç–µ GPT-5.2 ‚úÖ
- [x] –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ GPT-5.2 –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ ‚úÖ

**P0 - Critical (–¥–µ–ª–∞—Ç—å —Å–µ–π—á–∞—Å):**
- [ ] Batch processing - –∞–Ω–∞–ª–∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫—Ä–µ–∞—Ç–∏–≤–æ–≤
- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ saliency map - —É—Å–∫–æ—Ä–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∞–Ω–∞–ª–∏–∑–æ–≤

**P1 - High Priority:**
- [ ] –£–ª—É—á—à–∏—Ç—å product detection (–ø—Ä–æ–º–ø—Ç GPT-5.2)
- [ ] Fallback –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö –∑–æ–Ω
- [ ] Adaptive thresholds –¥–ª—è OCR

**P2 - Nice to Have:**
- [ ] API endpoint (FastAPI)
- [ ] A/B comparison
- [ ] Custom zone types

**P3 - Future:**
- [ ] Time-series analysis
- [ ] Multi-language support

---

## üìê –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –§–∏–Ω–∞–ª—å–Ω—ã–π pipeline (9 —à–∞–≥–æ–≤):

```
1. DeepGaze IIE ‚Üí Saliency Map
   - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–µ–ø–ª–æ–≤—É—é –∫–∞—Ä—Ç—É –≤–Ω–∏–º–∞–Ω–∏—è
   - –¢–æ—á–Ω–æ—Å—Ç—å 96-98% (–æ–±—É—á–µ–Ω–∞ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º eye-tracking)

2. EasyOCR ‚Üí Text Detection
   - –î–µ—Ç–µ–∫—Ç–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –±–ª–æ–∫–∏ —Å —Ç–æ—á–Ω—ã–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏
   - Confidence –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞

3. Python Heuristics ‚Üí Text Classification
   - –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –±–ª–æ–∫–∏ (header, CTA, subheader, etc.)
   - –ü—Ä–∞–≤–∏–ª–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞–∑–º–µ—Ä–∞, –ø–æ–∑–∏—Ü–∏–∏, keywords

4. GPT-5.2 Vision + reasoning ‚Üí Visual Elements
   - –î–µ—Ç–µ–∫—Ç–∏—Ä—É–µ—Ç logo, product, person
   - –ù–ï –¥–µ—Ç–µ–∫—Ç–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç (—É–∂–µ –Ω–∞–π–¥–µ–Ω OCR)
   - reasoning_effort='medium'

5. OpenCV ‚Üí CTA Refinement
   - –ù–∞—Ö–æ–¥–∏—Ç –∫–Ω–æ–ø–∫—É –≤–æ–∫—Ä—É–≥ CTA —Ç–µ–∫—Å—Ç–∞
   - Fallback: —Ä–∞—Å—à–∏—Ä—è–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤—ã–π bbox

6. Python ‚Üí Merge Zones
   - –û–±—ä–µ–¥–∏–Ω—è–µ—Ç text + visual zones
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç nested relationships (subheader –≤–Ω—É—Ç—Ä–∏ product)

7. NumPy ‚Üí Calculate Attention
   - –ù–∞–∫–ª–∞–¥—ã–≤–∞–µ—Ç saliency –Ω–∞ zones
   - –í—ã—á–∏—Ç–∞–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –∑–æ–Ω—ã (—á—Ç–æ–±—ã –Ω–µ —Å—á–∏—Ç–∞—Ç—å –¥–≤–∞–∂–¥—ã)

8. GPT-5.2 + reasoning ‚Üí Recommendations
   - –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç attention distribution
   - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç 3-5 —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏
   - –ü–æ–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –±–∞–Ω–Ω–µ—Ä–æ–≤ (CTA –Ω–µ –≤—Å–µ–≥–¥–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞)

9. Pillow ‚Üí Visualization
   - –†–∏—Å—É–µ—Ç bbox —Å —Ü–≤–µ—Ç–∞–º–∏ –ø–æ —Ç–∏–ø–∞–º –∑–æ–Ω
   - –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç attention %
```

## üîë –ö–ª—é—á–µ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è –∏ –ø–æ—á–µ–º—É

### 1. OCR First, –Ω–µ GPT First
**–ü—Ä–æ–±–ª–µ–º–∞:** GPT –ø–ª–æ—Ö–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–æ—á–Ω—ã–µ pixel-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã bbox –¥–ª—è —Ç–µ–∫—Å—Ç–∞.
**–†–µ—à–µ–Ω–∏–µ:** OCR –¥–ª—è —Ç–µ–∫—Å—Ç–∞ ‚Üí —Ç–æ—á–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã. GPT-5.2 —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

### 2. Nested zones –Ω–µ —Å—á–∏—Ç–∞—é—Ç—Å—è –¥–≤–∞–∂–¥—ã
**–ü—Ä–æ–±–ª–µ–º–∞:** Subheader –≤–Ω—É—Ç—Ä–∏ Product ‚Üí attention —Å—á–∏—Ç–∞–ª—Å—è –¥–≤–∞–∂–¥—ã (coverage >100%).
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ Product –≤—ã—á–∏—Ç–∞–µ–º attention –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –∑–æ–Ω.

### 3. CTA refinement —á–µ—Ä–µ–∑ OpenCV
**–ü—Ä–æ–±–ª–µ–º–∞:** OCR –Ω–∞—Ö–æ–¥–∏—Ç —Ç–µ–∫—Å—Ç "–†–∞—Å–∫—Ä—É—Ç–∏—Ç–µ –≤—ã–≥–æ–¥—É!", –Ω–æ bbox —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ–∫—Å—Ç–∞, –Ω–µ –∫–Ω–æ–ø–∫–∏.
**–†–µ—à–µ–Ω–∏–µ:** –ò—â–µ–º —Ç–µ–º–Ω—ã–π –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫ (–∫–Ω–æ–ø–∫—É) –≤–æ–∫—Ä—É–≥ —Ç–µ–∫—Å—Ç–∞.

### 4. GPT-5.2 –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
**–ü—Ä–∏—á–∏–Ω–∞:** GPT-5.2 —Å `reasoning_effort='medium'` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±–æ–∏—Ö –∑–∞–¥–∞—á ‚Äî –¥–µ—Ç–µ–∫—Ü–∏–∏ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (logo, product, person) –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π. –†–∞–Ω–µ–µ –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è GPT-4.1, –Ω–æ GPT-5.2 —Å reasoning –¥–∞—ë—Ç —Å–æ–ø–æ—Å—Ç–∞–≤–∏–º–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∏ —É–Ω–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç —Å—Ç–µ–∫.

### 5. Banner-aware —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –ë–∞–Ω–Ω–µ—Ä —Å–∞–º –∫–ª–∏–∫–∞–±–µ–ª–µ–Ω, CTA –∫–Ω–æ–ø–∫–∞ –Ω–µ –≤—Å–µ–≥–¥–∞ –Ω—É–∂–Ω–∞.
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–º–ø—Ç —É—á–∏—Ç—ã–≤–∞–µ—Ç, —á—Ç–æ –ø—Ä–∏–∑—ã–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ header, –Ω–µ —Ç–æ–ª—å–∫–æ –≤ –∫–Ω–æ–ø–∫–µ.

## üìä –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö

### Zones Structure
```python
{
    'type': str,  # 'logo', 'header', 'cta', 'product', 'subheader', 'description', 'legal'
    'label': str,  # –¢–µ–∫—Å—Ç –∏–ª–∏ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
    'bbox': [x, y, width, height],  # –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
    'attention_pct': float  # –ü—Ä–æ—Ü–µ–Ω—Ç –≤–Ω–∏–º–∞–Ω–∏—è (0-100)
}
```

### Results Structure
```python
{
    'image': str,  # –ü—É—Ç—å –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é
    'zones': List[Zone],  # –°–ø–∏—Å–æ–∫ –∑–æ–Ω
    'total_zones_attention': float,  # –°—É–º–º–∞ attention –≤—Å–µ—Ö –∑–æ–Ω
    'background_attention': float,  # 100 - total_zones_attention
    'overall_score': float,  # 1.0-5.0
    'reasoning': str,  # –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –æ—Ü–µ–Ω–∫–∏
    'recommendations': List[Recommendation]  # –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
}
```

## üé® –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ –∑–æ–Ω

```python
colors = {
    'logo': (255, 200, 0),      # Yellow
    'header': (0, 200, 100),    # Green
    'subheader': (255, 120, 0), # Orange
    'cta': (100, 150, 255),     # Blue
    'product': (200, 100, 255), # Purple
    'description': (150, 150, 150), # Gray
    'legal': (100, 100, 100)    # Dark Gray
}
```

## üîß –¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **API costs:** 2x GPT-5.2 –≤—ã–∑–æ–≤–∞ –Ω–∞ –∫–∞–∂–¥—ã–π –∫—Ä–µ–∞—Ç–∏–≤ (~$0.04-0.10 per image)
2. **Speed:** ~30-60 —Å–µ–∫—É–Ω–¥ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ ~2-3 –º–∏–Ω—É—Ç—ã –∏–∑-–∑–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–µ–π)
3. **OCR languages:** –°–µ–π—á–∞—Å —Ç–æ–ª—å–∫–æ —Ä—É—Å—Å–∫–∏–π + –∞–Ω–≥–ª–∏–π—Å–∫–∏–π
4. **–í–∏–∑—É–∞–ª—å–Ω–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è:** GPT-5.2 –∏–Ω–æ–≥–¥–∞ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç product (–º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å –ø—Ä–æ–º–ø—Ç)
5. **CTA refinement:** –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ–º–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫

## üìà –ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–±—ã—Å—Ç—Ä—ã–µ wins):
- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ saliency map (–æ–¥–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ‚Üí –∞–Ω–∞–ª–∏–∑ —Ä–∞–∑–Ω—ã—Ö –≤–µ—Ä—Å–∏–π —Ä–∞–∑–º–µ—Ç–∫–∏)
- [ ] Batch processing (–∞–Ω–∞–ª–∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫—Ä–µ–∞—Ç–∏–≤–æ–≤ –∑–∞ —Ä–∞–∑)
- [ ] Fallback –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö –∑–æ–Ω (–µ—Å–ª–∏ GPT-5.2 –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç product)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–∫–∞—á–µ—Å—Ç–≤–æ):
- [ ] –£–ª—É—á—à–∏—Ç—å –ø—Ä–æ–º–ø—Ç GPT-5.2 –¥–ª—è product detection
- [ ] Adaptive thresholds –¥–ª—è OCR (—Å–µ–π—á–∞—Å hardcoded)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (UX):
- [ ] API endpoint (FastAPI)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 4 (advanced):
- [ ] A/B comparison (—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ 2 –∫—Ä–µ–∞—Ç–∏–≤–æ–≤)
- [ ] Time-series analysis (–∫–∞–∫ –º–µ–Ω—è–ª—Å—è attention –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö)
- [ ] Custom zone types (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–¥–∞–µ—Ç —Å–≤–æ–∏ —Ç–∏–ø—ã)

### –í—ã–ø–æ–ª–Ω–µ–Ω–æ:
- [x] Web UI (Streamlit) ‚úÖ
- [x] PDF export —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ ‚úÖ
- [x] –î–µ—Ç–µ–∫—Ü–∏—è "person" –∑–æ–Ω—ã ‚úÖ
- [x] –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ GPT-5.2 –¥–ª—è –≤—Å–µ—Ö AI-–∑–∞–¥–∞—á ‚úÖ

## üêõ Known Issues

1. **–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π —Ç–µ–∫—Å—Ç:** –ò–Ω–æ–≥–¥–∞ OCR –µ–≥–æ –Ω–∞—Ö–æ–¥–∏—Ç, –Ω–æ –æ–Ω —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç—Å—è –≤ merge (—ç—Ç–æ –æ–∫).
2. **Product detection:** GPT-5.2 –∏–Ω–æ–≥–¥–∞ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç product, –µ—Å–ª–∏ –æ–Ω –Ω–µ –≤–∏–∑—É–∞–ª—å–Ω–æ –¥–æ–º–∏–Ω–∏—Ä—É—é—â–∏–π.
3. **CTA refinement:** –ï—Å–ª–∏ –∫–Ω–æ–ø–∫–∞ –Ω–µ —Ç–µ–º–Ω–∞—è, fallback –ø—Ä–æ—Å—Ç–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç bbox –Ω–∞ +20px.
4. **Coverage >100%:** –ï—Å–ª–∏ –∑–∞–±—ã–ª–∏ –≤—ã—á–µ—Å—Ç—å nested zones –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ attention.

## üß™ –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. Unit —Ç–µ—Å—Ç—ã (–±—É–¥—É—â–µ–µ)
```bash
pytest tests/
```

### 2. Manual testing
```bash
# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∫—Ä–µ–∞—Ç–∏–≤–∞—Ö
python analyze_creative_final.py data/yandex_pay.png
python analyze_creative_final.py data/yandex_market.png

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å expected values:
# - yandex_pay: Score 3.4, Header 47.3%, Product 19.6%, CTA 5.2%
# - yandex_market: Score 3.4, Header 35.3%, Product 20.1%, Logo 18.5%
```

### 3. Visual inspection
–°—Ä–∞–≤–Ω–∏—Ç—å `*_final.jpg` - bbox –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ç–æ—á–Ω—ã–º–∏.

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã

### DeepGaze
- –ú–æ–¥–µ–ª—å: DeepGazeIIE
- Dataset: MIT1003, SALICON
- Output: Log-density ‚Üí exp() ‚Üí probability
- Cache: ~/.cache/torch/hub/

### EasyOCR
- Languages: ['ru', 'en']
- GPU: False (–º–µ–¥–ª–µ–Ω–Ω–µ–µ, –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ)
- Confidence threshold: 0.3

### OpenAI API
- GPT-5.2: max_completion_tokens + reasoning_effort (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±–æ–∏—Ö –≤—ã–∑–æ–≤–æ–≤)
- Temperature: GPT-5.2 –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç (—Ç–æ–ª—å–∫–æ default=1)
- –§—É–Ω–∫—Ü–∏—è –¥–µ—Ç–µ–∫—Ü–∏–∏ –≤—Å—ë –µ—â—ë –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `detect_visual_elements_gpt41()` (legacy name)

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **API keys:** –í `config.py` (–≤ .gitignore)
- **Never commit:** config.py —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏
- **Fallback:** –ï—Å–ª–∏ config.py –Ω–µ—Ç, —á–∏—Ç–∞–µ–º –∏–∑ env variable

## üí° Tips –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. **Debugging:** –î–æ–±–∞–≤—å `print(f"Debug: {variable}")` –≤ –∫–∞–∂–¥—ã–π —à–∞–≥ pipeline
2. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:** –°–æ—Ö—Ä–∞–Ω—è–π –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–∞–∫ images –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
3. **–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π `time.time()` –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞
4. **Cache:** DeepGaze –∏ EasyOCR –∫—ç—à–∏—Ä—É—é—Ç –º–æ–¥–µ–ª–∏ - –ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –¥–æ–ª–≥–∏–π

## üìû –í–æ–ø—Ä–æ—Å—ã –¥–ª—è AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞

–ï—Å–ª–∏ —Ç—ã AI –∏ —Ä–∞–±–æ—Ç–∞–µ—à—å –Ω–∞–¥ —ç—Ç–∏–º –ø—Ä–æ–µ–∫—Ç–æ–º, –∑–∞–¥–∞–≤–∞–π —Å–µ–±–µ:
1. **–ó–∞—á–µ–º?** –ö–∞–∫—É—é –ø—Ä–æ–±–ª–µ–º—É —Ä–µ—à–∞–µ–º —ç—Ç–∏–º –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º?
2. **Trade-offs?** –ß—Ç–æ —Ç–µ—Ä—è–µ–º (—Å–∫–æ—Ä–æ—Å—Ç—å/–∫–∞—á–µ—Å—Ç–≤–æ/—Å—Ç–æ–∏–º–æ—Å—Ç—å)?
3. **Breaking changes?** –õ–æ–º–∞–µ–º –ª–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π API/—Ñ–æ—Ä–º–∞—Ç?
4. **Testing?** –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –Ω–µ —Å–ª–æ–º–∞–ª–∏?

## üöÄ –¢–∏–ø–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏

### "–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø –∑–æ–Ω—ã"
1. –û–±–Ω–æ–≤–∏—Ç—å —ç–≤—Ä–∏—Å—Ç–∏–∫—É –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ (step 3)
2. –î–æ–±–∞–≤–∏—Ç—å —Ü–≤–µ—Ç –≤ colors dict (step 9)
3. –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–º–ø—Ç GPT-5.2 (detect_visual_elements_gpt41) —Å –Ω–æ–≤—ã–º —Ç–∏–ø–æ–º
4. –î–æ–±–∞–≤–∏—Ç—å –≤ README —Ç–∏–ø—ã –∑–æ–Ω

### "–£–ª—É—á—à–∏—Ç—å –¥–µ—Ç–µ–∫—Ü–∏—é CTA"
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏–∫—É –≤ refine_cta_bbox()
2. –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ keywords –≤ classification
3. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å YOLO –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ –∫–Ω–æ–ø–æ–∫

### "–£—Å–∫–æ—Ä–∏—Ç—å pipeline"
1. –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞—Ç—å - –Ω–∞–π—Ç–∏ —É–∑–∫–æ–µ –º–µ—Å—Ç–æ
2. –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å saliency map
3. –ü–∞—Ä–∞–ª–ª–µ–ª–∏—Ç—å OCR + DeepGaze

---

## üìú Changelog

### v1.1 (2026-02-09) - Web UI + GPT-5.2 Unified

**Changes:**
- –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ GPT-5.2 –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–∑–∞–º–µ–Ω–∞ GPT-4.1)
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ person/face –∑–æ–Ω –≤ –ø—Ä–æ–º–ø—Ç–µ –¥–µ—Ç–µ–∫—Ü–∏–∏
- Web UI (Streamlit): –æ—Ü–µ–Ω–∫–∞, —Ç–∞–±–ª–∏—Ü–∞ –∑–æ–Ω, —Ç–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- Web UI –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞—Ä—Ç–∏–Ω–∫—É —Å –∑–æ–Ω–∞–º–∏ ‚Äî —Ç–æ–ª—å–∫–æ heatmap
- PDF-—ç–∫—Å–ø–æ—Ä—Ç –æ—Ç—á—ë—Ç–∞ (–æ—Ü–µ–Ω–∫–∞ + —Ç–∞–±–ª–∏—Ü–∞ + heatmap + —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏)
- –£–±—Ä–∞–Ω–æ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ JSON –∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –∏–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ ‚Äî —Ç–æ–ª—å–∫–æ PDF

### v1.0 (2026-01-20) - Production Ready ‚úÖ

**Major Changes:**
- ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–π pipeline —Å 9 —à–∞–≥–∞–º–∏
- ‚úÖ OCR-first –ø–æ–¥—Ö–æ–¥ –≤–º–µ—Å—Ç–æ GPT-only
- ‚úÖ Nested zones handling (–≤—ã—á–∏—Ç–∞–Ω–∏–µ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ coverage)
- ‚úÖ Banner-aware —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (GPT-5.2 –ø–æ–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç)
- ‚úÖ Cleaned up codebase (~50 —Ñ–∞–π–ª–æ–≤ —É–¥–∞–ª–µ–Ω–æ)

**Technical Decisions:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ DeepGaze IIE –≤–º–µ—Å—Ç–æ MSI-Net (–≤—ã—à–µ —Ç–æ—á–Ω–æ—Å—Ç—å)
- EasyOCR –¥–ª—è —Ç–µ–∫—Å—Ç–∞ –≤–º–µ—Å—Ç–æ GPT (—Ç–æ—á–Ω—ã–µ bbox)
- GPT-5.2 —Å reasoning –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

**Testing:**
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ Yandex Pay & Yandex Market
- Coverage: 92.3% –∏ 73.9% (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è)
- Nested zones —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- Legal text —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç—Å—è

**What We Tried (–∏ –æ—Ç–∫–∞–∑–∞–ª–∏—Å—å):**
- ‚ùå Gemini API - —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞
- ‚ùå Claude API - —Ç–∞ –∂–µ –ø—Ä–æ–±–ª–µ–º–∞
- ‚ùå Saliency-first –ø–æ–¥—Ö–æ–¥ - –∑–æ–Ω—ã —Å–ª–∏–≤–∞—é—Ç—Å—è
- ‚ùå –¢–æ–ª—å–∫–æ GPT –¥–ª—è —Ç–µ–∫—Å—Ç–∞ - –Ω–µ—Ç–æ—á–Ω—ã–µ bbox

**Key Learnings:**
1. Vision LLMs –ø–ª–æ—Ö–∏ –¥–ª—è —Ç–æ—á–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç ‚Üí OCR –ª—É—á—à–µ –¥–ª—è —Ç–µ–∫—Å—Ç–∞
2. Nested zones –Ω—É–∂–Ω–æ –≤—ã—á–∏—Ç–∞—Ç—å, –∏–Ω–∞—á–µ coverage >100%
3. CTA –Ω–µ –≤—Å–µ–≥–¥–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –≤ –±–∞–Ω–Ω–µ—Ä–∞—Ö ‚Üí –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã
4. GPT-5.2 —Å reasoning_effort='medium' —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

### Development History

**Phase 1: Research & Testing**
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∏ HuggingFace saliency API
- –ü—Ä–æ–±–æ–≤–∞–ª–∏ —Ä–∞–∑–Ω—ã–µ –º–æ–¥–µ–ª–∏ (MSI-Net, DeepGaze)
- –í—ã–±—Ä–∞–ª–∏ DeepGaze IIE (96-98% accuracy)

**Phase 2: Zone Detection Experiments**
- –ü–æ–ø—ã—Ç–∫–∞ 1: GPT-4o ‚Üí –Ω–µ—Ç–æ—á–Ω—ã–µ bbox
- –ü–æ–ø—ã—Ç–∫–∞ 2: GPT-4.1 ‚Üí –ª—É—á—à–µ, –Ω–æ –≤—Å–µ –µ—â–µ –Ω–µ—Ç–æ—á–Ω–æ
- –ü–æ–ø—ã—Ç–∫–∞ 3: GPT-5.2 ‚Üí —Ö—É–∂–µ —á–µ–º GPT-4.1 –¥–ª—è vision
- –ü–æ–ø—ã—Ç–∫–∞ 4: OCR + —ç–≤—Ä–∏—Å—Ç–∏–∫–∞ ‚Üí —Ç–æ—á–Ω—ã–µ bbox ‚úÖ

**Phase 3: Pipeline Optimization**
- –î–æ–±–∞–≤–∏–ª–∏ CTA refinement (OpenCV)
- –ò—Å–ø—Ä–∞–≤–∏–ª–∏ nested zones (–≤—ã—á–∏—Ç–∞–Ω–∏–µ)
- –î–æ–±–∞–≤–∏–ª–∏ banner-aware –ø—Ä–æ–º–ø—Ç –¥–ª—è GPT-5.2

**Phase 4: Production Prep**
- –û—á–∏—Å—Ç–∏–ª–∏ codebase
- –°–æ–∑–¥–∞–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- –ù–∞—Å—Ç—Ä–æ–∏–ª–∏ config management
- –î–æ–±–∞–≤–∏–ª–∏ –ø—Ä–∏–º–µ—Ä—ã

**Phase 5: Web UI + Unified GPT-5.2**
- Web UI (Streamlit) —Å –∑–∞–≥—Ä—É–∑–∫–æ–π, –∞–Ω–∞–ª–∏–∑–æ–º –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- PDF-—ç–∫—Å–ø–æ—Ä—Ç –æ—Ç—á—ë—Ç–æ–≤
- –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ GPT-5.2 –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ person/face –∑–æ–Ω

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2026-02-09
**–í–µ—Ä—Å–∏—è pipeline:** 1.1
**–°—Ç–∞—Ç—É—Å:** Production Ready ‚úÖ
